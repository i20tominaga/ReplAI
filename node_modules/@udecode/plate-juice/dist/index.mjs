// src/createJuicePlugin.ts
import {
  KEY_DESERIALIZE_HTML,
  createPluginFactory
} from "@udecode/plate-common/server";
import juice from "juice";
var KEY_JUICE = "juice";
var createJuicePlugin = createPluginFactory({
  inject: {
    pluginsByKey: {
      [KEY_DESERIALIZE_HTML]: {
        editor: {
          insertData: {
            transformData: (data) => {
              let newData = data.replaceAll(/<style>\s*<!--/g, "<style>");
              newData = juice(newData);
              return newData;
            }
          }
        }
      }
    }
  },
  key: KEY_JUICE
});
export {
  KEY_JUICE,
  createJuicePlugin
};
//# sourceMappingURL=index.mjs.map