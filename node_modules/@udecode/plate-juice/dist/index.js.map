{"version":3,"sources":["../src/index.ts","../src/createJuicePlugin.ts"],"sourcesContent":["/** @file Automatically generated by barrelsby. */\n\nexport * from './createJuicePlugin';\n","import {\n  KEY_DESERIALIZE_HTML,\n  createPluginFactory,\n} from '@udecode/plate-common/server';\nimport juice from 'juice';\n\nexport const KEY_JUICE = 'juice';\n\nexport const createJuicePlugin = createPluginFactory({\n  inject: {\n    pluginsByKey: {\n      [KEY_DESERIALIZE_HTML]: {\n        editor: {\n          insertData: {\n            transformData: (data) => {\n              // juice ignores the first class when there is <!-- just after <style>, so we remove it\n              let newData = data.replaceAll(/<style>\\s*<!--/g, '<style>');\n              newData = juice(newData);\n\n              return newData;\n            },\n          },\n        },\n      },\n    },\n  },\n  key: KEY_JUICE,\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA,oBAGO;AACP,mBAAkB;AAEX,IAAM,YAAY;AAElB,IAAM,wBAAoB,mCAAoB;AAAA,EACnD,QAAQ;AAAA,IACN,cAAc;AAAA,MACZ,CAAC,kCAAoB,GAAG;AAAA,QACtB,QAAQ;AAAA,UACN,YAAY;AAAA,YACV,eAAe,CAAC,SAAS;AAEvB,kBAAI,UAAU,KAAK,WAAW,mBAAmB,SAAS;AAC1D,4BAAU,aAAAA,SAAM,OAAO;AAEvB,qBAAO;AAAA,YACT;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA,EACA,KAAK;AACP,CAAC;","names":["juice"]}